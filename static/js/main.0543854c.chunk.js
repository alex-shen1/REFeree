(this.webpackJsonpreferrals=this.webpackJsonpreferrals||[]).push([[0],{43:function(e,t,a){e.exports=a(69)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(48),a(9)),s=a(10),i=a(12),u=a(11),m=(a(49),a(50),a(23)),h=a(22),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navpanel"},r.a.createElement(m.a,{bg:"light",expand:"lg"},r.a.createElement(m.a.Brand,{href:"#home"},"REFeree"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement("div",null,r.a.createElement(h.b,{to:"/home"}," Home "),r.a.createElement(h.b,{to:"/about"},"About Us")))))}}]),a}(r.a.Component),d=(a(55),a(6)),v=a(41),g=a(25),E=a(20),p=["10% Discount","20% Discount","30% Discount","50% Discount"],b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={referralCount:4,nextPrizeAt:5},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"progressbar"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(d.a,{className:"Card"},r.a.createElement(d.a.Title,{className:"Title"},"Your Progress"),r.a.createElement(d.a.Body,null,r.a.createElement("div",{className:"Milestones"},r.a.createElement("div",null,"0"),r.a.createElement("div",{style:{marginLeft:"9vw"}},"5"),r.a.createElement("div",{style:{marginLeft:"9vw"}},"10"),r.a.createElement("div",{style:{marginLeft:"9vw"}},"15"),r.a.createElement("div",{style:{marginLeft:"9vw"}},"20")),r.a.createElement(v.a,{striped:!0,now:this.state.referralCount/20*100,className:"ProgressBar",label:this.state.referralCount}),r.a.createElement("div",{className:"Milestones"},r.a.createElement("div",null,"Rewards"),r.a.createElement("div",{className:"Rewards"},p[0]),r.a.createElement("div",{className:"Rewards"},p[1]),r.a.createElement("div",{className:"Rewards"},p[2]),r.a.createElement("div",{className:"Rewards"},p[3]))))),r.a.createElement(E.a,null,r.a.createElement(d.a,{className:"Message"},r.a.createElement(d.a.Body,null,"You are ",5-this.state.referralCount%5," referrals away from the next prize!!"),r.a.createElement(d.a.Body,null,"Next Prize: ",p[Math.floor(this.state.referralCount/5)])))))}}]),a}(r.a.Component),y=(a(56),[{q:"How can I refer my friends?",a:"Click on the refer button to invite your friends using email!"},{q:"What can I redeem with my points?",a:"We offer discounts and for the extremely dedicated, even a brand new Mercedes!"}]),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){var e=y.map((function(e){return r.a.createElement("div",{style:{paddingBottom:20}},r.a.createElement(d.a.Title,{variant:"primary"},e.q),r.a.createElement(d.a.Text,{variant:"secondary"},e.a))}));return r.a.createElement("div",{className:"faq"},r.a.createElement(f,null),r.a.createElement("h1",null,"FAQs"),r.a.createElement(d.a,{style:{width:"18rem"}},r.a.createElement(d.a.Body,null,e)))}}]),a}(r.a.Component),O=(a(57),a(18)),j=a(21),x=a.n(j);a(61),a(63);x.a.initializeApp({apiKey:"AIzaSyAAx_KB8yB_BBO2qVEDhFKcLB1scs_Xkns",authDomain:"referee-42ffa.firebaseapp.com",databaseURL:"https://referee-42ffa.firebaseio.com",projectId:"referee-42ffa",storageBucket:"referee-42ffa.appspot.com",messagingSenderId:"527189579972",appId:"1:527189579972:web:74e964b67554da94d15191"});var k=new x.a.auth.GoogleAuthProvider,A=x.a.auth(),U=x.a.database(),N=x.a,B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ref"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(d.a,{style:{margin:"0 auto",width:"45vw",height:"25vh",marginTop:"3vh",marginBottom:"3vh",float:"none",marginLeft:"10vw"}},r.a.createElement(d.a.Header,null,"Your Referral Link: ","".concat("/REFERee","/").concat(this.props.activeUser)),r.a.createElement(d.a.Body,{class:"h1 text-center"},"UID LINK"))),r.a.createElement(E.a,null,r.a.createElement(d.a,{style:{margin:"0 auto",width:"16vw",height:"25vh",marginTop:"3vh",marginBottom:"3vh",float:"none"}},r.a.createElement(d.a.Header,null,"Refer a friend!"),r.a.createElement(d.a.Body,null,r.a.createElement(O.a,{variant:"light"},r.a.createElement("img",{src:"https://cdn2.hubspot.net/hubfs/521324/App-Icon-1200x1200-gmail.png",width:"40px",height:"40px"}))," "," ",r.a.createElement(O.a,{variant:"light"},r.a.createElement("img",{src:"https://pngimg.com/uploads/facebook_logos/facebook_logos_PNG19748.png",width:"40px",height:"40px"}))," "," ",r.a.createElement(O.a,{variant:"light"},r.a.createElement("img",{src:"https://lh3.googleusercontent.com/proxy/L1Qczy6X8MHlu0EOMm6NPr88KdGmpGS6ocRV0l3lqsn96R0Wz2ec6nEViQKXW-MY_KBSBxLlrooEkwEk4_EzrIA_l0oKvAxQmPplyQR11AAFzrGsCoEFqxCDQbC_sBSjZA",width:"40px",height:"40px"}))," "," ")))))}}]),a}(r.a.Component),C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(f,null),r.a.createElement(B,{activeUser:this.props.activeUser}),r.a.createElement(b,null))}}]),a}(n.Component),L=(a(67),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setActiveUser=function(e){n.setState({activeUser:e})},n.handleGoogleLogin=function(){A.signInWithPopup(k).then((function(e){console.log(e);var t=e.user;n.props.setActiveUser(t.uid),U.ref("userData").once("value",(function(e){if(e&&e.exists()){var a=!1;if(Object.keys(e.val()).map((function(e){t.uid===e&&(a=!0)})),!a){var r={name:t.displayName,referrals:0};U.ref("userData/".concat(t.uid)).set(r)}null!=n.props.referrer&&n.creditReferrer()}}))})).catch((function(e){return console.log(e)}))},n.creditReferrer=function(){var e=n.props.referrer,t=U.ref("userData/".concat(e));t.once("value",(function(e){if(e&&e.exists()){console.log(e.val());var a=e.val();a.referrals++,console.log(a),t.set(a)}}))},n.handleLogout=function(){console.log("logging out"),n.setState({isLoggedIn:!1,activeUser:null}),A.signOut()},n.state={},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},this.state.isLoggedIn?r.a.createElement(d.a,{bg:"secondary",text:"light",style:{margin:"0 auto",width:"10vw",height:"5vh",marginTop:"3vh",marginBottom:"3vh",float:"none"}},'Hello, "NAME"'):r.a.createElement(d.a,{bg:"secondary",text:"light",style:{margin:"0 auto",width:"10vw",height:"5vh",marginTop:"3vh",marginBottom:"3vh",float:"none"}},"Please sign in."),r.a.createElement("button",{onClick:this.handleLogout},"Sign out"),r.a.createElement("button",{onClick:this.handleGoogleLogin},"Sign in with Google"),r.a.createElement("button",{onClick:this.creditReferrer},"test")))}}]),a}(r.a.Component)),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.id,r.a.createElement(L,{referrer:this.props.id,setActiveUser:this.props.setActiveUser}))}}]),a}(n.Component),R=a(7),D={EsmTKQcSgtVIreazD9ZY4nNEYK42:{name:"Alex Shen",referrals:2},kcEgNwSW3ZN10k8BwXJG0fPxylr2:{name:"Alan Li",referrals:3}},S=(a(68),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setActiveUser=function(e){return n.setState({activeUser:e,isLoggedIn:null!=e})},n.resetFirebase=function(){Object.keys(D).map((function(e){U.ref("userData/".concat(e)).set(D[e])}))},n.test=function(){console.log(n.state.activeUser)},n.state={activeUser:null,isLoggedIn:!1,allUsers:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.auth().onAuthStateChanged((function(t){t?e.setActiveUser(t.uid):console.log("no user")})),U.ref("userData").on("value",(function(t){t&&t.exists()&&e.setState({allUsers:Object.keys(t.val())})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(h.a,{basename:"/REFERee"},r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(R.a,{to:"/home"})}}),r.a.createElement(R.b,{exact:!0,path:"/home",render:function(t){return r.a.createElement(C,Object.assign({},t,{activeUser:e.state.activeUser}))}}),r.a.createElement(R.b,{exact:!0,path:"/about",component:w}),r.a.createElement(R.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(L,Object.assign({},t,{setActiveUser:e.setActiveUser,isLoggedIn:e.state.isLoggedIn,referrer:null}))}}),null!=this.state.allUsers?this.state.allUsers.map((function(t){return r.a.createElement(R.b,{exact:!0,path:"/ref/".concat(t),render:function(a){return r.a.createElement(I,Object.assign({},a,{id:t,setActiveUser:e.setActiveUser}))}})})):""))," */}",r.a.createElement("button",{onClick:this.loadUserData},"Print user"),r.a.createElement("button",{onClick:this.resetFirebase},"reset firebase"))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.0543854c.chunk.js.map